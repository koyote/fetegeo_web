<!DOCTYPE html>
{% load static %}
{% get_static_prefix as STATIC_PREFIX %}
<html>
	<head>
		<meta name="description" content="Fetegeo is, primarily, a simple, fast, free text geocoding framework. This webview demonstrates its searching capabilities.">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

		<link rel="icon" href="{{ STATIC_PREFIX }}favicon.ico" type="image/ico">
		<link href='http://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
		<link href="{{ STATIC_PREFIX }}style.css" rel="stylesheet" type="text/css" />

		<title>Fetegeo Webview</title>
	</head>
	<body onload='initialize({{user_lat_lng}})'>
		<div class='container'>
			<h1>Fetegeo Webview</h1>

			<div class='grid'>
				<h2>Search</h2>
				<form method="post" class="searchForm">
					{% csrf_token %}
					{{ form.as_p }}
					<input id="searchButton" type="submit" value='Search' />
				</form>

				{% if error %}
				<strong>Bad query!</strong>

				{% elif no_result %}
				<strong>No Results for '<em style="color:#687F80">{{q}}</em>' :(</strong>
				
				{% elif place_names or postcode_names %}
				<h2>Results</h2>

				{% if place_names %}
				<h3>Places</h3>
				<div class='result_list'>
					{% for id, name in place_names.items %}
					<div id='{{id}}' class='results linkOFF' name='Place'>
						<span>{{name}}</span>
					</div>
					{% endfor %}
				</div>
				{% endif %}

				{% if postcode_names %}
				<h3>Postcodes</h3>
				<div class='result_list'>
					{% for id, name in postcode_names.items %}
					<div id='{{id}}' class='results linkOFF' name='Postcode'>
						<span>{{name}}</span>
					</div>
					{% endfor %}
				</div>
				{% endif %}

				{% endif %}

			</div>

			<div class='grid' id='map'></div>
			<div class="clear"></div>

			<hr />
			<h6>Â© 2013 - <a href="https://github.com/koyote">Pit Apps</a></h6>
		</div>

		<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
		<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script src="{{ STATIC_PREFIX }}fetegeo.js"></script>
	</body>
</html>
